{"version":3,"sources":["file:///D:/Courses/Cocos/Cocos%20Projects/Test/assets/Missions/test03/test03.ts"],"names":["_decorator","assetManager","Component","Sprite","SpriteFrame","ccclass","property","test03","type","bundleURL","start","LoadBundle","loadBundle","err","bundle","console","log","name","loadAsset","getBundle","load","asset","SampleSpriteFrame","bind","SetSpriteFrame","SampleSprite","node","getComponent","spriteFrame","ReleaseAsset","releaseAsset","release","releaseAll"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,Y,OAAAA,Y;AAAcC,MAAAA,S,OAAAA,S;AAAUC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;;;;;;;;;OAC/C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;wBAGjBO,M,WADZF,OAAO,CAAC,QAAD,C,UAEHC,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACL;AAAN,OAAD,C,2BAFb,MACaI,MADb,SAC4BL,SAD5B,CACsC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAOlCO,SAPkC,GAOf,oFAPe;AAAA;;AAQlCC,QAAAA,KAAK,GAAG,CACN;AACD,SAViC,CAYlC;;;AACAC,QAAAA,UAAU,GAAE;AACRV,UAAAA,YAAY,CAACW,UAAb,CAAwB,KAAKH,SAA7B,EAAuC,CAACI,GAAD,EAAKC,MAAL,KAAc;AACjDC,YAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAE,YAAAA,OAAO,CAACC,GAAR,CAAY,iBAAeF,MAAM,CAACG,IAAlC;AACH,WAHD;AAIH,SAlBiC,CAoBlC;;;AACAC,QAAAA,SAAS,GAAE;AACP,cAAIJ,MAAM,GAAGb,YAAY,CAACkB,SAAb,CAAuB,QAAvB,CAAb;AACAL,UAAAA,MAAM,CAACM,IAAP,CAAY,eAAZ,EAA4BhB,WAA5B,EAAwC,UAASS,GAAT,EAAaQ,KAAb,EAAmB;AACvD,iBAAKC,iBAAL,GAAyBD,KAAzB;AACAN,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAc,KAAKM,iBAAL,CAAuBL,IAAjD;AACH,WAHuC,CAGtCM,IAHsC,CAGjC,IAHiC,CAAxC;AAIH,SA3BiC,CA6BlC;;;AACAC,QAAAA,cAAc,GAAE;AACZ,cAAIC,YAAY,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBxB,MAAvB,CAAnB;AACAsB,UAAAA,YAAY,CAACG,WAAb,GAA2B,KAAKN,iBAAhC;AACAP,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH,SAlCiC,CAoClC;;;AACAa,QAAAA,YAAY,GAAE;AACV5B,UAAAA,YAAY,CAAC6B,YAAb,CAA0B,KAAKR,iBAA/B,EADU,CAGV;;AACA,cAAIR,MAAM,GAAGb,YAAY,CAACkB,SAAb,CAAuB,QAAvB,CAAb;AACAL,UAAAA,MAAM,CAACiB,OAAP,CAAe,eAAf,EAA+B3B,WAA/B;AACAU,UAAAA,MAAM,CAACkB,UAAP;AACAjB,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAQ,KAAKM,iBAAL,CAAuBL,IAA3C;AACH;;AA7CiC,O;;;;;4FAIjCX,Q","sourcesContent":["import { _decorator, assetManager, Component,Sprite, SpriteFrame, } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('test03')\r\nexport class test03 extends Component {\r\n    @property({type:Sprite})\r\n    sprite:Sprite\r\n\r\n    @property\r\n    SampleSpriteFrame:SpriteFrame\r\n\r\n    bundleURL:string = \"D:\\\\Courses\\\\Cocos\\\\Cocos Projects\\\\Test\\\\build\\\\build-bundle\\\\web-desktop\\\\test03\"\r\n    start() {\r\n      // 在cocos引擎中，绑定单击事件\r\n    }\r\n\r\n    //加载ab包\r\n    LoadBundle(){\r\n        assetManager.loadBundle(this.bundleURL,(err,bundle)=>{\r\n            console.log(err)\r\n            console.log(\"加载ab包完成，名称为：\"+bundle.name)\r\n        }) \r\n    }\r\n\r\n    // 加载资源\r\n    loadAsset(){\r\n        let bundle = assetManager.getBundle(\"test03\")\r\n        bundle.load(\"1/spriteFrame\",SpriteFrame,function(err,asset){\r\n            this.SampleSpriteFrame = asset\r\n            console.log(\"加载资源完成，名称为：\"+this.SampleSpriteFrame.name)\r\n        }.bind(this))\r\n    }\r\n\r\n    // 设置Sprite\r\n    SetSpriteFrame(){\r\n        var SampleSprite = this.node.getComponent(Sprite)\r\n        SampleSprite.spriteFrame = this.SampleSpriteFrame\r\n        console.log(\"设置Sprite完成\")\r\n    }\r\n\r\n    // 释放资源\r\n    ReleaseAsset(){\r\n        assetManager.releaseAsset(this.SampleSpriteFrame)\r\n\r\n        // 获取已经加载完的资源包\r\n        let bundle = assetManager.getBundle(\"test03\")\r\n        bundle.release(\"1/spriteFrame\",SpriteFrame)\r\n        bundle.releaseAll();\r\n        console.log(\"释放资源：\"+this.SampleSpriteFrame.name)\r\n    }\r\n}\r\n\r\n\r\n"]}